---
import BaseLayout from '@/layouts/BaseLayout';
---

<BaseLayout title='Contact'>
    <h2 class='text-2xl font-display font-bold'>Get in touch.</h2>
    <section class='flex-col w-full mt-8'>
        <form id='contactForm' class='space-y-6'>
            <div class='flex flex-col md:flex-row gap-4'>
                <!-- Name -->
                <div class='relative w-full'>
                    <input
                        id='name'
                        name='name'
                        type='text'
                        required
                        class='peer w-full border-2 border-gray-300 rounded-md px-3 pt-5 pb-2 hover:border-primary focus:outline-none focus:border-primary transition text-black'
                    />
                    <label
                        for='name'
                        class='absolute left-3 top-2.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-6 peer-placeholder-shown:text-base peer-placeholder-shown:text-blue-500 peer-focus:top-2.5 peer-focus:text-xs peer-focus:font-bold peer-focus:text-primary'
                    >
                        Name
                    </label>
                </div>

                <!-- Email -->
                <div class='relative w-full'>
                    <input
                        id='email'
                        name='email'
                        type='email'
                        required
                        class='peer w-full border-2 border-gray-300 rounded-md px-3 pt-5 pb-2 hover:border-primary focus:outline-none focus:border-primary transition text-black'
                    />
                    <label
                        for='email'
                        class='absolute left-3 top-2.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-6 peer-placeholder-shown:text-base peer-placeholder-shown:text-blue-500 peer-focus:top-2.5 peer-focus:text-xs peer-focus:font-bold peer-focus:text-primary'
                    >
                        Email
                    </label>
                </div>
            </div>

            <!-- Subject -->
            <div class='relative'>
                <input
                    id='subject'
                    name='subject'
                    type='text'
                    required
                    class='peer w-full border-2 border-gray-300 rounded-md px-3 pt-5 pb-2 hover:border-primary focus:outline-none focus:border-primary transition text-black'
                />
                <label
                    for='subject'
                    class='absolute left-3 top-2.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-6 peer-placeholder-shown:text-base peer-placeholder-shown:text-blue-500 peer-focus:top-2.5 peer-focus:text-xs peer-focus:font-bold peer-focus:text-primary'
                >
                    Subject
                </label>
            </div>

            <!-- Message -->
            <div class='relative'>
                <textarea
                    id='message'
                    name='message'
                    rows='6'
                    required
                    class='peer w-full border-2 border-gray-300 rounded-md px-3 pt-5 pb-2 hover:border-primary focus:outline-none focus:border-primary transition text-black resize-none'
                ></textarea>
                <label
                    for='message'
                    class='absolute left-3 top-2.5 text-gray-500 text-sm transition-all peer-placeholder-shown:top-6 peer-placeholder-shown:text-base peer-placeholder-shown:text-blue-500 peer-focus:top-2.5 peer-focus:text-xs peer-focus:font-bold peer-focus:text-primary'
                >
                    Message
                </label>
            </div>

            <button
                id='submitBtn'
                type='submit'
                class='w-fit border-2 border-primary font-semibold px-6 py-2 rounded-md hover:bg-primary/30 disabled:bg-gray-400 transition duration-500'
            >
                Contact me
            </button>
        </form>

        <!-- Toast -->
        <div
            id='toast'
            class='hidden fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-md shadow-lg transition opacity-0'
        >
            ðŸ“© Email successfully sent!
        </div>
    </section>
</BaseLayout>

<script>
    const form = document.getElementById('contactForm');
    const button = document.getElementById('submitBtn');
    const toast = document.getElementById('toast');

    form.addEventListener('submit', async (e) => {
        e.preventDefault();
        button.disabled = true;
        button.textContent = 'Sending...';

        // Mock network delay
        await new Promise((r) => setTimeout(r, 1200));

        form.reset();
        button.disabled = false;
        button.textContent = 'Contact me';

        // Show toast
        toast.classList.remove('hidden');
        toast.classList.add('opacity-100');
        setTimeout(() => {
            toast.classList.add('opacity-0');
            setTimeout(() => toast.classList.add('hidden'), 300);
        }, 2500);
    });
</script>
