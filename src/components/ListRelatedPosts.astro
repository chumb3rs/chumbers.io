---
import type { CollectionEntry } from 'astro:content';
import RelatedPost from '@/components/RelatedPost';

type Props = {
    posts: CollectionEntry<'posts'>[];
};

const { posts } = Astro.props;
---

<section class={`flex flex-col sm:justify-between gap-8`}>
    {
        posts.length > 0 ? (
            posts.map(async (post) => {
                const { remarkPluginFrontmatter } = await post.render();

                return (
                    <RelatedPost
                        post={post}
                        readTime={remarkPluginFrontmatter.minutesRead}
                    />
                );
            })
        ) : (
            <span class='text-gray-500'>
                There are no related posts yet. ðŸ˜¢
            </span>
        )
    }
</section>
