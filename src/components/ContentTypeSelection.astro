---
import { sitePaths } from '@/data/site.config';
import { slugify } from '@/utils';
import { ContentTypeEnum } from '@/data/utils';
import SelectionButton from '@/components/SelectionButton';

type Props = {
    text: String;
    slug: String;
    activeOption: String;
    type: ContentTypeEnum;
};

const { text, slug, activeOption, type } = Astro.props;

const slugifyName = slugify(text.toLowerCase());
const isActive = slugify(activeOption?.toLocaleLowerCase()) === slugifyName;
const href = isActive
    ? sitePaths[type]
    : type === ContentTypeEnum.Categories
      ? `${sitePaths[type]}/${slug}/1`
      : `${sitePaths[type]}/${slug}`;
const displayText = `${type === ContentTypeEnum.Tags ? '# ' : ''}${text.toLowerCase()}`;
---

<SelectionButton href={href} rootHref='/tags' isActive={isActive}
    >{displayText}</SelectionButton
>
